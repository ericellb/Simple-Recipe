(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{280:function(e,t,n){e.exports=n(469)},433:function(e,t,n){},466:function(e,t,n){},469:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(51),c=n.n(i),s=n(33),o=n(62),l=n(244),u=n(19),d=n(20),p=n(22),m=n(21),h=n(23),f=n(269),b=n(64),v=n(489),E=n(484),g=n(55),k=n(486),y=n(34),S=Object(y.b)(),x=n(485),I=n(86),O=n.n(I),C=n(15),j=n.n(C),w=n(24),A=n(29),N=n.n(A),R="https://simple-recipe-api.herokuapp.com",T=function(e){return function(){var t=Object(w.a)(j.a.mark(function t(n){var a,r;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(R,"/recipes?foodFilter=").concat(e),t.next=3,N.a.get(a);case 3:r=t.sent,n({type:"FETCH_RECIPES",payload:r.data});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},_={isLoading:!1,results:[],value:"",id:null},D=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state=_,n.componentDidMount=function(){n.props.fetchDictionary()},n.componentDidUpdate=function(e,t){t.id!==n.state.id&&null!==n.state.id&&n.props.fetchRecipe(n.state.id)},n.handleSearchSelect=function(e,t){var a=t.result;"/"!==S.location.hash&&S.push("/"),n.setState({id:a._id}),n.setState({foodFilter:null})},n.handleSearchChange=function(e,t){var a=t.value;n.setState({isLoading:!0,value:a}),setTimeout(function(){if(n.state.value.length<1)return n.setState(_);var e=new RegExp(O.a.escapeRegExp(n.state.value),"i"),t=O.a.filter(n.props.dictionary.dictionary,function(t){return e.test(t.title)}).slice(0,4);t<=0&&(t=O.a.filter(n.props.dictionary.dictionary,function(t){return e.test(t.type)}).slice(0,4)),t<=0&&(t=O.a.filter(n.props.dictionary.dictionary,function(t){return e.test(t.description)}).slice(0,4)),n.setState({isLoading:!1,results:t})},300)},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(x.a,{className:"recipe-search-bar",placeholder:"Search recipes...",aligned:"right",loading:this.state.isLoading,onResultSelect:this.handleSearchSelect,onSearchChange:O.a.debounce(this.handleSearchChange,500,{leading:!0}),results:this.state.results,value:this.state.value})}}]),t}(a.Component),F=Object(s.b)(function(e){return{dictionary:e.dictionary}},{fetchRecipes:T,fetchRecipe:function(e){return function(){var t=Object(w.a)(j.a.mark(function t(n){var a,r;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(R,"/recipes?id=").concat(e),t.next=3,N.a.get(a);case 3:r=t.sent,n({type:"FETCH_RECIPE",payload:r.data});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},fetchDictionary:function(){return function(){var e=Object(w.a)(j.a.mark(function e(t){var n,a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(R,"/recipes?dictionary=1"),e.next=3,N.a.get(n);case 3:a=e.sent,t({type:"FETCH_RECIPES_DICTIONARY",payload:a.data});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(D),L=n(481),M=[{key:"1",text:"None",value:null},{key:"2",text:"Chicken",value:"chicken"},{key:"3",text:"Beef",value:"beef"},{key:"4",text:"Pork",value:"pork"},{key:"5",text:"Fish",value:"fish"},{key:"6",text:"Vegetarian",value:"vegetarian"},{key:"7",text:"American",value:"american"},{key:"8",text:"Chinese",value:"chinese"},{key:"9",text:"Mexican",value:"mexican"},{key:"10",text:"Italian",value:"italian"},{key:"11",text:"Japanese",value:"japanese"},{key:"12",text:"Greek",value:"greek"},{key:"13",text:"French",value:"french"},{key:"14",text:"Thai",value:"thai"},{key:"15",text:"Indian",value:"indian"}],U=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={foodFilter:null},n.componentDidUpdate=function(e,t){t.foodFilter!==n.state.foodFilter&&null!==n.state.foodType&&n.props.fetchRecipes(n.state.foodFilter)},n.handleFilterByChange=function(e,t){var a=t.value;"/"!==S.location.hash&&S.push("/"),n.setState({foodFilter:a}),n.setState({id:null})},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(L.a,{placeholder:"Filter by...",search:!0,selection:!0,options:M,onChange:this.handleFilterByChange})}}]),t}(a.Component),H=Object(s.b)(null,{fetchRecipes:T})(U),z=[{key:"home",text:"Home",value:"home",icon:"home"}],P=[{key:"submit",text:"Submit Recipe",value:"submit",icon:"edit"},{key:"admin",text:"Admin Panel",value:"admin",icon:"user secret"}],B=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={activeItem:"home",sidebarVisible:!1},n.componentDidUpdate=function(e,t){e.isSignedIn!==n.props.isSignedIn&&n.props.getAdmin(n.props.userId)},n.onSignInClick=function(){n.auth.signIn()},n.onSignOutClick=function(){n.auth.signOut()},n.onAuthChange=function(e){var t=n.auth.currentUser.get().getBasicProfile(),a=t.Eea,r=t.ig,i=t.U3;e?(n.props.signIn(a,r,i),z.push(P[0]),z.push(P[1])):(n.props.signOut(n.auth.currentUser.get().getId()),z.pop(),z.pop())},n.handleNavigation=function(e){"home"===e?S.push("/"):"submit"===e?S.push("/submit"):"admin"===e&&S.push("/admin"),"login"===e?n.props.isSignedIn?n.onSignOutClick():n.onSignInClick():n.setState({activeItem:e})},n.handleItemClick=function(e,t){var a=t.name;n.handleNavigation(a)},n.mobileMenuChange=function(e,t){t.name;var a=t.value;n.handleNavigation(a)},n.handleSidebarToggle=function(){n.state.sidebarVisible?n.setState({sidebarVisible:!1}):n.setState({sidebarVisible:!0})},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.gapi.load("client:auth2",function(){window.gapi.client.init({clientId:"607332079220-hhs6rhoaq44p29150j4thfdgoj7c5k59.apps.googleusercontent.com",scope:"email"}).then(function(){e.auth=window.gapi.auth2.getAuthInstance(),e.onAuthChange(e.auth.isSignedIn.get()),e.auth.isSignedIn.listen(function(){e.onAuthChange(e.auth.isSignedIn.get())})})})}},{key:"render",value:function(){var e=this.state.activeItem;return r.a.createElement("div",null,r.a.createElement(v.a,{as:E.a,minWidth:853,attached:!0,borderless:!0,className:"top-menu"},r.a.createElement(E.a.Item,{name:"burger",onClick:this.handleSidebarToggle},r.a.createElement(g.a,{name:"bars"})),r.a.createElement(E.a.Item,null,"Simple Recipe"),r.a.createElement(E.a.Menu,{className:"top-menu",position:"right"},r.a.createElement(E.a.Item,null,r.a.createElement(F,null)),r.a.createElement(E.a.Item,null,r.a.createElement(H,null)),r.a.createElement(E.a.Item,{name:"login",onClick:this.handleItemClick},r.a.createElement(g.a,{className:"google icon"}),this.props.isSignedIn?"Sign Out":"Sign In"))),r.a.createElement(v.a,{as:E.a,attached:!0,borderless:!0,maxWidth:853,size:"massive",className:"top-menu"},r.a.createElement(E.a.Item,{name:"burger",onClick:this.handleSidebarToggle},r.a.createElement(g.a,{name:"bars"})),r.a.createElement(E.a.Item,null,"Simple Recipe"),r.a.createElement(E.a.Menu,{className:"top-menu",position:"right"},r.a.createElement(E.a.Item,{name:"login",onClick:this.handleItemClick},r.a.createElement(g.a,{className:"google icon"}),this.props.isSignedIn?"Sign Out":"Sign In"))),r.a.createElement(k.a,{className:"sidebar-overlay",as:E.a,animation:"overlay",icon:"labeled",onHide:this.handleSidebarToggle,vertical:!0,visible:this.state.sidebarVisible,width:"thin"},r.a.createElement(E.a.Item,{name:"home",active:"home"===e,onClick:this.handleItemClick},r.a.createElement(g.a,{name:"home"}),"Home"),this.props.isSignedIn?r.a.createElement(E.a.Item,{name:"submit",active:"submit"===e,onClick:this.handleItemClick},r.a.createElement(g.a,{name:"edit"})," Submit Recipe"):null,this.props.isAdmin?r.a.createElement(E.a.Item,{name:"admin",active:"admin"===e,onClick:this.handleItemClick},r.a.createElement(g.a,{name:"user secret"})," Admin Panel"):null))}}]),t}(a.Component),G=Object(s.b)(function(e){return{dictionary:e.dictionary,isSignedIn:e.auth.isSignedIn,userId:e.auth.userId,isAdmin:e.auth.isAdmin}},{getAdmin:function(e){return function(){var t=Object(w.a)(j.a.mark(function t(n){var a,r;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(R,"/auth?userId=").concat(e),t.next=3,N.a.get(a);case 3:r=t.sent,n({type:"GET_ADMIN",payload:r.data});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},signIn:function(e,t,n){return function(){var a=Object(w.a)(j.a.mark(function a(r){var i;return j.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i="".concat(R,"/users?userId=").concat(e,"&name=").concat(t,"&email=").concat(n),a.next=3,N.a.post(i);case 3:r({type:"SIGN_IN",payload:e});case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},signOut:function(e){return{type:"SIGN_OUT",payload:e}}})(B),V=n(477),Y=n(483),J=n(470),W=n(270),X=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).componentDidUpdate=function(e){n.props!==e&&n.setState({link:n.props.link,id:n.props._id,src:n.props.src,title:n.props.title,description:n.props.description,extra:n.props.extra,buttons:n.props.buttons})},n.renderExtra=function(){return r.a.createElement("div",{className:"card-extra"},r.a.createElement("div",null,n.state.extra),r.a.createElement("div",null,r.a.createElement(g.a,{name:"star outline",className:"1",onClick:function(){return n.handleRateRecipe()}}),r.a.createElement(g.a,{name:"star outline",className:"2",onClick:function(){return n.handleRateRecipe()}}),r.a.createElement(g.a,{name:"star outline",className:"3",onClick:function(){return n.handleRateRecipe()}}),r.a.createElement(g.a,{name:"star outline",className:"4",onClick:function(){return n.handleRateRecipe()}}),r.a.createElement(g.a,{name:"star outline",className:"5",onClick:function(){return n.handleRateRecipe()}})),n.state.buttons?r.a.createElement("div",{className:"submission-section"},r.a.createElement(J.a,{color:"green",onClick:function(){return n.props.onClick(n.state.id,"add")}},"Approve"),r.a.createElement(J.a,{color:"red",onClick:function(){return n.props.onClick(n.state.id,"delete")}},"Deny")):"")},n.state={link:e.link,id:e.id,src:e.src,title:e.title,description:e.description,extra:e.extra,buttons:e.buttons},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.link,n=e.src,a=e.title,i=e.description;return r.a.createElement(Y.a,null,r.a.createElement(W.a,{href:t,target:"_blank",src:n,ui:!0}),r.a.createElement(Y.a.Content,null,r.a.createElement(Y.a.Header,{href:t,target:"_blank"},a),r.a.createElement(Y.a.Description,null,i)),r.a.createElement(Y.a.Content,{extra:!0},this.renderExtra()))}}]),t}(a.Component),q=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchRecipes("chicken")}},{key:"renderRecipeList",value:function(){return void 0!==this.props.recipes.recipes?this.props.recipes.recipes.map(function(e){return r.a.createElement(X,{key:e._id,className:"card-container",link:e.link,id:e._id,src:e.src,title:e.title,description:e.description,extra:e.extra})}):r.a.createElement("div",null)}},{key:"render",value:function(){return r.a.createElement(V.a,{className:"recipe-list"},r.a.createElement(Y.a.Group,{centered:!0,className:"recipe-card-group"},this.renderRecipeList()))}}]),t}(a.Component),$=Object(s.b)(function(e){return{recipes:e.recipes}},{fetchRecipes:T})(q),K=n(65),Q=n(478),Z=n(480),ee="https://simple-recipe-api.herokuapp.com",te=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={title:null,description:null,link:null,src:null,type:null,extra:null,titleError:!1,descriptionError:!1,linkError:!1,srcError:!1,typeError:!1,extraError:!1,submitShow:!1,submitError:!1,popupContent:null},n.validateInput=Object(w.a)(j.a.mark(function e(){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:["title","description","link","src","type","extra"].forEach(function(e){n.state[e]?("link"===e||"src"===e)&&!1===RegExp(/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/).test(n.state[e])?n.setState(Object(K.a)({},"".concat(e,"Error"),"Invalid ".concat(e))):n.setState(Object(K.a)({},"".concat(e,"Error"),!1)):n.setState(Object(K.a)({},"".concat(e,"Error"),"Invalid ".concat(e)))});case 1:case"end":return e.stop()}},e)})),n.handleInputChange=function(e,t){var a=t.name,r=t.value;n.setState(Object(K.a)({},a,r))},n.handleSubmitShow=function(e){200===e?(n.setState({popupContent:"Successfully submitted recipe!"}),n.setState({submitError:!1})):(n.setState({popupContent:"Server Error:  either offline or invalid params"}),n.setState({submitError:!0})),n.setState({submitShow:!0}),setTimeout(function(){n.setState({submitShow:!1})},2500)},n.handleFormSubmit=Object(w.a)(j.a.mark(function e(){var t,a,r,i,c,s,o,l;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.validateInput();case 2:if(t=n.state,a=t.titleError,r=t.descriptionError,i=t.linkError,c=t.srcError,s=t.typeError,o=t.extraError,a||r||i||c||s||o){e.next=8;break}return e.next=6,n.handleApiCall();case 6:l=e.sent,n.handleSubmitShow(l.status);case 8:case"end":return e.stop()}},e)})),n.handleApiCall=Object(w.a)(j.a.mark(function e(){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N.a.post("".concat(ee,"/recipeSubmissions"),{params:{title:n.state.title,description:n.state.description,src:n.state.src,link:n.state.link,type:n.state.type,extra:n.state.extra}}).then(function(e){return e}).catch(function(e){return e}));case 1:case"end":return e.stop()}},e)})),n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(V.a,{fluid:!0,className:"recipe-list"},r.a.createElement(Y.a.Group,{centered:!0},r.a.createElement(Y.a,null,r.a.createElement(W.a,{src:this.state.src,wrapped:!0,ui:!1}),r.a.createElement(Y.a.Content,null,r.a.createElement(Y.a.Header,null,this.state.title),r.a.createElement(Y.a.Meta,null,r.a.createElement("span",null,this.state.description))),r.a.createElement(Y.a.Content,{extra:!0},r.a.createElement(Q.a,{onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"form-container"},r.a.createElement(Q.a.Input,{label:"Recipe Title",type:"text",placeholder:"Recipe Title...",name:"title",onChange:this.handleInputChange,error:this.state.titleError}),r.a.createElement(Q.a.Input,{label:"Recipe Description",type:"text",placeholder:"Recipe Description...",name:"description",onChange:this.handleInputChange,error:this.state.descriptionError}),r.a.createElement(Q.a.Input,{label:"Recipe Type",type:"text",placeholder:"Recipe Type...",name:"type",onChange:this.handleInputChange,error:this.state.typeError}),r.a.createElement(Q.a.Input,{label:"Recipe Calories",type:"text",placeholder:"Recipe Calories...",name:"extra",onChange:this.handleInputChange,error:this.state.extraError}),r.a.createElement(Q.a.Input,{label:"Recipe Link",type:"text",placeholder:"Recipe Link...",name:"link",onChange:this.handleInputChange,error:this.state.linkError}),r.a.createElement(Q.a.Input,{label:"Recipe Image Src",type:"text",placeholder:"Recipe Image Src...",name:"src",onChange:this.handleInputChange,error:this.state.srcError}),r.a.createElement(Z.a,{content:this.state.popupContent,className:this.state.submitError?"error":"success",open:this.state.submitShow,on:"click",position:"top center",trigger:r.a.createElement(Q.a.Button,{className:"form-submit-button",align:"right",color:"green",content:"Submit Recipe"})})))))))}}]),t}(a.Component),ne=(n(433),n(482)),ae=n(479),re="https://simple-recipe-api.herokuapp.com",ie=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={users:[],admins:[],modalText:null,modalShow:!1,modalAction:null},n.getListOfUsers=Object(w.a)(j.a.mark(function e(){var t,a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.userId,e.next=3,N.a.get("".concat(re,"/users?userId=").concat(t));case 3:a=e.sent,n.setState({users:a.data});case 5:case"end":return e.stop()}},e)})),n.getListOfAdmins=Object(w.a)(j.a.mark(function e(){var t,a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.userId,e.next=3,N.a.get("".concat(re,"/admin?userId=").concat(t));case 3:a=e.sent,n.setState({admins:a.data});case 5:case"end":return e.stop()}},e)})),n.addToAdmins=function(){var e=Object(w.a)(j.a.mark(function e(t){var a,r;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.userId,e.next=3,N.a.post("".concat(re,"/admin?userId=").concat(a,"&newAdminId=").concat(t));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.delFromAdmins=function(){var e=Object(w.a)(j.a.mark(function e(t){var a,r;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.userId,e.next=3,N.a.delete("".concat(re,"/admin?userId=").concat(a,"&newAdminId=").concat(t));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.componentDidMount=function(){null!==n.props.userId&&(n.getListOfUsers(),n.getListOfAdmins())},n.isUserAdmin=function(e){var t=!1;for(var a in n.state.admins)e.userId===n.state.admins[a].userId&&(t=!0);return t},n.handleModalConfirm=function(){var e=Object(w.a)(j.a.mark(function e(t){var a,r,i;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.state.modalAction,r=a.type,i=a.userId,!t){e.next=18;break}if("add"!==r){e.next=10;break}return e.next=5,n.addToAdmins(i);case 5:return e.next=7,n.getListOfAdmins();case 7:n.setState({modalShow:!1}),e.next=16;break;case 10:if("del"!==r){e.next=16;break}return e.next=13,n.delFromAdmins(i);case 13:return e.next=15,n.getListOfAdmins();case 15:n.setState({modalShow:!1});case 16:e.next=19;break;case 18:n.setState({modalShow:!1});case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleUserOnClick=function(){var e=Object(w.a)(j.a.mark(function e(t,a){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"add"===a?n.setState({modalShow:!0,modalText:"Are you sure you want to add ".concat(t.email," to Admins?"),modalAction:{type:"add",userId:t.userId}}):"delete"===a&&n.setState({modalShow:!0,modalText:"Are you sure you want to remove ".concat(t.email," from Admins ?"),modalAction:{type:"del",userId:t.userId}});case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n.renderButtons=function(){return r.a.createElement("div",null,r.a.createElement(J.a,{basic:!0,color:"red",inverted:!0,onClick:function(){return n.handleModalConfirm(!1)}},r.a.createElement(g.a,{name:"remove"})," No"),r.a.createElement(J.a,{color:"green",inverted:!0,onClick:function(){return n.handleModalConfirm(!0)}},r.a.createElement(g.a,{name:"checkmark"})," Yes"))},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,"Admin List",r.a.createElement("br",null),r.a.createElement(ne.a,{celled:!0,relaxed:!0,verticalAlign:"middle"},this.state.users.map(function(t){return r.a.createElement("div",{className:"user-list-container",key:t.userId},e.isUserAdmin(t)?r.a.createElement(g.a,{size:"large",name:"user secret"}):r.a.createElement(g.a,{size:"large",name:"user"}),r.a.createElement("div",null,t.email),e.isUserAdmin(t)?r.a.createElement(J.a,{onClick:function(){return e.handleUserOnClick(t,"delete")},color:"red",className:"admin-button",floated:"right"},"Delete"):r.a.createElement(J.a,{onClick:function(){return e.handleUserOnClick(t,"add")},color:"green",className:"admin-button",floated:"right"},"Add"))})),r.a.createElement(ae.a,{open:this.state.modalShow,basic:!0,size:"small",header:"Admin Confirmation",content:this.state.modalText,actions:this.renderButtons}))}}]),t}(a.Component),ce=Object(s.b)(function(e){return{userId:e.auth.userId}})(ie),se="https://simple-recipe-api.herokuapp.com",oe=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={recipes:[],modalText:null,modalShow:!1,modalAction:null},n.getSubmissionsList=Object(w.a)(j.a.mark(function e(){var t;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(se,"/recipeSubmissions"));case 2:t=e.sent,n.setState({recipes:t.data});case 4:case"end":return e.stop()}},e)})),n.addSubmission=function(){var e=Object(w.a)(j.a.mark(function e(t){var n;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.patch("".concat(se,"/recipeSubmissions?id=").concat(t,"&action=add"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.delSubmission=function(){var e=Object(w.a)(j.a.mark(function e(t){var n;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.patch("".concat(se,"/recipeSubmissions?id=").concat(t,"&action=delete"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleModalConfirm=function(){var e=Object(w.a)(j.a.mark(function e(t){var a,r,i;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.state.modalAction,r=a.type,i=a.submissionId,!t){e.next=18;break}if("add"!==r){e.next=10;break}return e.next=5,n.addSubmission(i);case 5:return e.next=7,n.getSubmissionsList();case 7:n.setState({modalShow:!1}),e.next=16;break;case 10:if("del"!==r){e.next=16;break}return e.next=13,n.delSubmission(i);case 13:return e.next=15,n.getSubmissionsList();case 15:n.setState({modalShow:!1});case 16:e.next=19;break;case 18:n.setState({modalShow:!1});case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleSubmissionClick=function(e,t){"add"===t?n.setState({modalShow:!0,modalText:"Are you sure you want to add ".concat(e," to Admins?"),modalAction:{type:"add",submissionId:e}}):"delete"===t&&n.setState({modalShow:!0,modalText:"Are you sure you want to remove ".concat(e," from Admins ?"),modalAction:{type:"del",submissionId:e}})},n.renderButtons=function(){return r.a.createElement("div",null,r.a.createElement(J.a,{basic:!0,color:"red",inverted:!0,onClick:function(){return n.handleModalConfirm(!1)}},r.a.createElement(g.a,{name:"remove"})," No"),r.a.createElement(J.a,{color:"green",inverted:!0,onClick:function(){return n.handleModalConfirm(!0)}},r.a.createElement(g.a,{name:"checkmark"})," Yes"))},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getSubmissionsList()}},{key:"renderRecipeList",value:function(){var e=this;return console.log(this.state.recipes),void 0!==this.state.recipes?this.state.recipes.map(function(t){return r.a.createElement(X,{key:t._id,className:"card-container",link:t.link,id:t._id,src:t.src,title:t.title,description:t.description,extra:t.extra,onClick:function(t,n){return e.handleSubmissionClick(t,n)},buttons:!0})}):r.a.createElement("div",null)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"center"}},"Recipe Submissions"),r.a.createElement(Y.a.Group,{centered:!0},this.renderRecipeList()),r.a.createElement(ae.a,{open:this.state.modalShow,basic:!0,size:"small",header:"Admin Confirmation",content:this.state.modalText,actions:this.renderButtons}))}}]),t}(a.Component),le=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){n.props.isAdmin||S.push("/")},n.componentDidUpdate=function(e,t){e.isAdmin!==n.props.isAdmin&&S.push("/")},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"admin-flex-container"},r.a.createElement("div",{className:"users-list flex-item"},r.a.createElement(ce,null)),r.a.createElement("div",{className:"submission-list flex-item"},r.a.createElement(oe,null)))}}]),t}(a.Component),ue=Object(s.b)(function(e){return{isAdmin:e.auth.isAdmin}})(le),de=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"content-footer footer-left"},"Data fueled by ",r.a.createElement("a",{href:"http://hellofresh.com"},"Hellofresh")," and ",r.a.createElement("a",{href:"http://allrecipes.com"}," Allrecipes ")),r.a.createElement("div",{className:"content-footer footer-right"},r.a.createElement("a",{href:"https://github.com/shmeegie",className:"github-icon-link"},r.a.createElement(g.a,{link:!0,"aria-hidden":"true",size:"big",name:"github"}))))}}]),t}(a.Component),pe=(n(466),n(467),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(f.a,null,r.a.createElement(G,null),r.a.createElement(b.a,{path:"/",exact:!0,component:$}),r.a.createElement(b.a,{path:"/submit",exact:!0,component:te}),r.a.createElement(b.a,{path:"/admin",exact:!0,component:ue}),r.a.createElement(de,null)))}}]),t}(a.Component)),me=n(54),he={},fe={},be={isSignedIn:!1,userId:null,isAdmin:!1},ve=Object(o.c)({recipes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RECIPES":case"FETCH_RECIPE":return Object(me.a)({},e,{recipes:t.payload});default:return e}},dictionary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RECIPES_DICTIONARY":return Object(me.a)({},e,{dictionary:t.payload});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(me.a)({},e,{isSignedIn:!0,userId:t.payload});case"SIGN_OUT":return Object(me.a)({},e,{isSignedIn:!1,userId:null});case"GET_ADMIN":return Object(me.a)({},e,{isAdmin:t.payload});default:return e}}}),Ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,ge=Object(o.e)(ve,Ee(Object(o.a)(l.a)));c.a.render(r.a.createElement(s.a,{store:ge},r.a.createElement(pe,null)),document.getElementById("root"))}},[[280,1,2]]]);
//# sourceMappingURL=main.efebe461.chunk.js.map