(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{224:function(e,t,n){},281:function(e,t,n){e.exports=n(469)},435:function(e,t,n){},469:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(51),c=n.n(i),s=n(34),o=n(62),l=n(246),u=n(17),d=n(18),p=n(20),m=n(19),h=n(21),f=n(85),b=n(64),E=n(35),v=Object(E.b)(),g=n(470),y=n(484),k=n(15),O=n.n(k),S=n(24),x=n(27),C=n.n(x),j=function(e,t){return function(){var n=Object(S.a)(O.a.mark(function n(a){var r,i,c;return O.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,I();case 2:return r=n.sent,i="",i="66.131.255.235"===r.data.ip?null===e?"http://localhost:3001/recipes?foodType=".concat(t):"http://localhost:3001/recipes?cuisineType=".concat(e):null===e?"http://66.131.255.235:3001/recipes?foodType=".concat(t):"http://66.131.255.235:3001/recipes?cuisineType=".concat(e),n.next=7,C.a.get(i);case 7:c=n.sent,a({type:"FETCH_RECIPES",payload:c.data});case 9:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},I=function(){var e=Object(S.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.a.get("https://api.ipify.org?format=json"));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),w=n(55),A=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onSignInClick=function(){n.auth.signIn()},n.onSignOutClick=function(){n.auth.signOut()},n.onAuthChange=function(e){var t=n.auth.currentUser.get().getBasicProfile(),a=t.Eea,r=t.ig,i=t.U3;e?n.props.signIn(a,r,i):n.props.signOut(n.auth.currentUser.get().getId())},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.gapi.load("client:auth2",function(){window.gapi.client.init({clientId:"607332079220-hhs6rhoaq44p29150j4thfdgoj7c5k59.apps.googleusercontent.com",scope:"email"}).then(function(){e.auth=window.gapi.auth2.getAuthInstance(),e.onAuthChange(e.auth.isSignedIn.get()),e.auth.isSignedIn.listen(function(){e.onAuthChange(e.auth.isSignedIn.get())})})})}},{key:"render",value:function(){return this.props.isSignedIn?r.a.createElement(g.a,{color:"red",onClick:this.onSignOutClick,className:"header-button"},r.a.createElement(w.a,{className:"google icon"}),"Sign Out"):this.props.isSignedIn?void 0:r.a.createElement(g.a,{color:"teal",onClick:this.onSignInClick,className:"header-button"},r.a.createElement(w.a,{className:"google icon"}),"Sign In with Google")}}]),t}(a.Component),N=Object(s.b)(function(e){return{isSignedIn:e.auth.isSignedIn,userId:e.auth.userId}},{signIn:function(e,t,n){return function(){var a=Object(S.a)(O.a.mark(function a(r){var i,c;return O.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,I();case 2:return i=a.sent,c="",c="66.131.255.235"===i.data.ip?"http://localhost:3001/users?userId=".concat(e,"&name=").concat(t,"&email=").concat(n):"http://localhost:3001/users?userId=".concat(e),a.next=7,C.a.post(c);case 7:a.sent,r({type:"SIGN_IN",payload:e});case 9:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},signOut:function(e){return{type:"SIGN_OUT",payload:e}}})(A),T=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).componentDidUpdate=function(e,t){e.isSignedIn!==n.props.isSignedIn&&n.props.getAdmin(n.props.userId)},n.renderAdminButton=function(){if(n.props.isAdmin)return r.a.createElement(f.b,{to:"/admin"},r.a.createElement(g.a,{className:"header-button",color:"green"},"Admin Panel"))},n.renderSubmitRecipe=function(){if(n.props.isSignedIn)return r.a.createElement(f.b,{to:"/recipe/submit"},r.a.createElement(g.a,{className:"header-button",color:"teal"},"Submit Recipe"))},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(y.a,{size:"large",attached:!0,inverted:!0,borderless:!0},r.a.createElement(y.a.Item,null,r.a.createElement(f.b,{to:"/"},"Simple Recipe")),r.a.createElement(y.a.Item,{position:"right"},this.renderSubmitRecipe(),this.renderAdminButton(),r.a.createElement(N,null)))}}]),t}(a.Component),R=Object(s.b)(function(e){return{dictionary:e.dictionary,isSignedIn:e.auth.isSignedIn,userId:e.auth.userId,isAdmin:e.auth.isAdmin}},{getAdmin:function(e){return function(){var t=Object(S.a)(O.a.mark(function t(n){var a,r,i;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I();case 2:return a=t.sent,r="",a.data.ip,r="http://localhost:3001/auth?userId=".concat(e),t.next=7,C.a.get(r);case 7:i=t.sent,n({type:"GET_ADMIN",payload:i.data});case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(T),_=(n(224),n(271)),D=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"title-container"},r.a.createElement(_.a,{className:"title-image",src:"/images/titleImage.jpg",width:"100%"}),r.a.createElement("div",{className:"image-overlay"}),r.a.createElement("div",{className:"text-overlay"},r.a.createElement("h1",null,"Ingredient Recipes"),r.a.createElement("p",null,"Get tailored recipes by primary ingredients and cuisines types.")))}}]),t}(a.Component),L=n(486),F=n(482),U=n(485),M=n(87),z=n.n(M),G=[{key:"1",text:"None",value:null},{key:"2",text:"American",value:"american"},{key:"3",text:"Chinese",value:"chinese"},{key:"4",text:"Mexican",value:"mexican"},{key:"5",text:"Italian",value:"italian"},{key:"6",text:"Japanese",value:"japanese"},{key:"7",text:"Greek",value:"greek"},{key:"8",text:"French",value:"french"},{key:"9",text:"Thai",value:"thai"},{key:"10",text:"Indian",value:"indian"}],B={isLoading:!1,results:[],value:"",id:null,cuisineType:null,foodType:null},P=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state=B,n.componentDidMount=function(){n.props.fetchDictionary()},n.componentDidUpdate=function(e,t){t.id!==n.state.id&&null!==n.state.id&&n.props.fetchRecipe(n.state.id),t.cuisineType!==n.state.cuisineType&&null!==n.state.cuisineType&&n.props.fetchRecipes(n.state.cuisineType,null),t.foodType!==n.state.foodType&&null!==n.state.foodType&&n.props.fetchRecipes(null,n.state.foodType)},n.handleCuisineOnChange=function(e,t){var a=t.value;"/"!==v.location.hash&&v.push("/"),n.setState({cuisineType:a}),n.setState({foodType:null}),n.setState({id:null})},n.handleFoodTypeOnClick=function(e){"/"!==v.location.hash&&v.push("/"),n.setState({foodType:e}),n.setState({cuisineType:null}),n.setState({id:null})},n.handleResultSelect=function(e,t){var a=t.result;"/"!==v.location.hash&&v.push("/"),n.setState({id:a._id}),n.setState({foodType:null}),n.setState({cuisineType:null})},n.handleSearchChange=function(e,t){var a=t.value;n.setState({isLoading:!0,value:a}),setTimeout(function(){if(n.state.value.length<1)return n.setState(B);var e=new RegExp(z.a.escapeRegExp(n.state.value),"i"),t=z.a.filter(n.props.dictionary.dictionary,function(t){return e.test(t.title)}).slice(0,4);t<=0&&(t=z.a.filter(n.props.dictionary.dictionary,function(t){return e.test(t.type)}).slice(0,4)),t<=0&&(t=z.a.filter(n.props.dictionary.dictionary,function(t){return e.test(t.description)}).slice(0,4)),n.setState({isLoading:!1,results:t})},300)},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(L.a,{inverted:!0,attached:!0},r.a.createElement("div",{className:"search-container"},r.a.createElement("div",{className:"search-cuisine"},r.a.createElement(F.a,{placeholder:"Select Cuisine...",search:!0,selection:!0,options:G,onChange:this.handleCuisineOnChange})),r.a.createElement("div",{className:"icons"},r.a.createElement("div",{className:"icon-container",onClick:function(){return e.handleFoodTypeOnClick("chicken")}},r.a.createElement(_.a,{src:"icons/chicken.png"}),r.a.createElement("p",{className:"horizontal-align"}," Chicken ")),r.a.createElement("div",{className:"icon-container",onClick:function(){return e.handleFoodTypeOnClick("beef")}},r.a.createElement(_.a,{src:"icons/beef.png"}),r.a.createElement("p",{className:"horizontal-align"}," Beef ")),r.a.createElement("div",{className:"icon-container",onClick:function(){return e.handleFoodTypeOnClick("pork")}},r.a.createElement(_.a,{src:"icons/pork.png"}),r.a.createElement("p",{className:"horizontal-align"}," Pork ")),r.a.createElement("div",{className:"icon-container",onClick:function(){return e.handleFoodTypeOnClick("fish")}},r.a.createElement(_.a,{src:"icons/fish.png"}),r.a.createElement("p",{className:"horizontal-align"}," Fish ")),r.a.createElement("div",{className:"icon-container",onClick:function(){return e.handleFoodTypeOnClick("vegetarian")}},r.a.createElement(_.a,{src:"icons/vegetable.png"}),r.a.createElement("p",{className:"horizontal-align"}," Vegetarian "))),r.a.createElement("div",{className:"search-recipe"},r.a.createElement(U.a,{placeholder:"Search recipes...",aligned:"right",loading:this.state.isLoading,onResultSelect:this.handleResultSelect,onSearchChange:z.a.debounce(this.handleSearchChange,500,{leading:!0}),results:this.state.results,value:this.state.value}))))}}]),t}(a.Component),H=Object(s.b)(function(e){return{dictionary:e.dictionary}},{fetchRecipes:j,fetchRecipe:function(e){return function(){var t=Object(S.a)(O.a.mark(function t(n){var a,r,i;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I();case 2:return a=t.sent,r="",r="66.131.255.235"===a.data.ip?"http://localhost:3001/recipes?id=".concat(e):"http://66.131.255.235:3001/recipes?id=".concat(e),t.next=7,C.a.get(r);case 7:i=t.sent,n({type:"FETCH_RECIPE",payload:i.data});case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},fetchDictionary:function(){return function(){var e=Object(S.a)(O.a.mark(function e(t){var n,a,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:return n=e.sent,a="",a="66.131.255.235"===n.data.ip?"http://localhost:3001/recipes?dictionary=1":"http://66.131.255.235:3001/recipes?dictionary=1",e.next=7,C.a.get(a);case 7:r=e.sent,t({type:"FETCH_RECIPES_DICTIONARY",payload:r.data});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(P),Y=n(477),J=n(483),V=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).componentDidUpdate=function(e){n.props!==e&&n.setState({link:n.props.link,id:n.props._id,src:n.props.src,title:n.props.title,description:n.props.description,extra:n.props.extra,buttons:n.props.buttons})},n.renderExtra=function(){return r.a.createElement("div",{className:"card-extra"},r.a.createElement("div",null,n.state.extra),r.a.createElement("div",null,r.a.createElement(w.a,{name:"star outline",className:"1",onClick:function(){return n.handleRateRecipe()}}),r.a.createElement(w.a,{name:"star outline",className:"2",onClick:function(){return n.handleRateRecipe()}}),r.a.createElement(w.a,{name:"star outline",className:"3",onClick:function(){return n.handleRateRecipe()}}),r.a.createElement(w.a,{name:"star outline",className:"4",onClick:function(){return n.handleRateRecipe()}}),r.a.createElement(w.a,{name:"star outline",className:"5",onClick:function(){return n.handleRateRecipe()}})),n.state.buttons?r.a.createElement("div",{className:"submission-section"},r.a.createElement(g.a,{color:"green",onClick:function(){return n.props.onClick(n.state.id,"add")}},"Approve"),r.a.createElement(g.a,{color:"red",onClick:function(){return n.props.onClick(n.state.id,"delete")}},"Deny")):"")},n.state={link:e.link,id:e.id,src:e.src,title:e.title,description:e.description,extra:e.extra,buttons:e.buttons},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.link,n=e._id,a=e.src,i=e.title,c=e.description;e.extra;return r.a.createElement(J.a,{key:n},r.a.createElement(_.a,{href:t,target:"_blank",src:a,ui:!0}),r.a.createElement(J.a.Content,null,r.a.createElement(J.a.Header,{href:t,target:"_blank"},i),r.a.createElement(J.a.Description,null,c)),r.a.createElement(J.a.Content,{extra:!0},this.renderExtra()))}}]),t}(a.Component),X=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchRecipes(null,"chicken")}},{key:"renderRecipeList",value:function(){return void 0!==this.props.recipes.recipes?this.props.recipes.recipes.map(function(e){return r.a.createElement(V,{className:"card-container",link:e.link,id:e._id,src:e.src,title:e.title,description:e.description,extra:e.extra})}):r.a.createElement("div",null)}},{key:"render",value:function(){return r.a.createElement(Y.a,{fluid:!0,className:"recipe-list"},r.a.createElement(J.a.Group,{centered:!0},this.renderRecipeList()))}}]),t}(a.Component),q=Object(s.b)(function(e){return{recipes:e.recipes}},{fetchRecipes:j})(X),$=n(65),K=n(478),Q=n(480),W=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={title:null,description:null,link:null,src:null,type:null,extra:null,titleError:!1,descriptionError:!1,linkError:!1,srcError:!1,typeError:!1,extraError:!1,submitShow:!1,submitError:!1,popupContent:null},n.validateInput=Object(S.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:["title","description","link","src","type","extra"].forEach(function(e){n.state[e]?("link"===e||"src"===e)&&!1===RegExp(/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/).test(n.state[e])?n.setState(Object($.a)({},"".concat(e,"Error"),"Invalid ".concat(e))):n.setState(Object($.a)({},"".concat(e,"Error"),!1)):n.setState(Object($.a)({},"".concat(e,"Error"),"Invalid ".concat(e)))});case 1:case"end":return e.stop()}},e)})),n.handleInputChange=function(e,t){var a=t.name,r=t.value;n.setState(Object($.a)({},a,r))},n.handleSubmitShow=function(e){200===e?(n.setState({popupContent:"Successfully submitted recipe!"}),n.setState({submitError:!1})):(n.setState({popupContent:"Server Error:  either offline or invalid params"}),n.setState({submitError:!0})),n.setState({submitShow:!0}),setTimeout(function(){n.setState({submitShow:!1})},2500)},n.handleFormSubmit=Object(S.a)(O.a.mark(function e(){var t,a,r,i,c,s,o,l;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.validateInput();case 2:if(t=n.state,a=t.titleError,r=t.descriptionError,i=t.linkError,c=t.srcError,s=t.typeError,o=t.extraError,a||r||i||c||s||o){e.next=8;break}return e.next=6,n.handleApiCall();case 6:l=e.sent,n.handleSubmitShow(l.status);case 8:case"end":return e.stop()}},e)})),n.handleApiCall=Object(S.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.a.post("http://localhost:3001/recipeSubmissions",{params:{title:n.state.title,description:n.state.description,src:n.state.src,link:n.state.link,type:n.state.type,extra:n.state.extra}}).then(function(e){return e}).catch(function(e){return e}));case 1:case"end":return e.stop()}},e)})),n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(Y.a,{fluid:!0,className:"recipe-list"},r.a.createElement(J.a.Group,{centered:!0},r.a.createElement(J.a,null,r.a.createElement(_.a,{src:this.state.src,wrapped:!0,ui:!1}),r.a.createElement(J.a.Content,null,r.a.createElement(J.a.Header,null,this.state.title),r.a.createElement(J.a.Meta,null,r.a.createElement("span",null,this.state.description))),r.a.createElement(J.a.Content,{extra:!0},r.a.createElement(K.a,{onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"form-container"},r.a.createElement(K.a.Input,{label:"Recipe Title",type:"text",placeholder:"Recipe Title...",name:"title",onChange:this.handleInputChange,error:this.state.titleError}),r.a.createElement(K.a.Input,{label:"Recipe Description",type:"text",placeholder:"Recipe Description...",name:"description",onChange:this.handleInputChange,error:this.state.descriptionError}),r.a.createElement(K.a.Input,{label:"Recipe Type",type:"text",placeholder:"Recipe Type...",name:"type",onChange:this.handleInputChange,error:this.state.typeError}),r.a.createElement(K.a.Input,{label:"Recipe Calories",type:"text",placeholder:"Recipe Calories...",name:"extra",onChange:this.handleInputChange,error:this.state.extraError}),r.a.createElement(K.a.Input,{label:"Recipe Link",type:"text",placeholder:"Recipe Link...",name:"link",onChange:this.handleInputChange,error:this.state.linkError}),r.a.createElement(K.a.Input,{label:"Recipe Image Src",type:"text",placeholder:"Recipe Image Src...",name:"src",onChange:this.handleInputChange,error:this.state.srcError}),r.a.createElement(Q.a,{content:this.state.popupContent,className:this.state.submitError?"error":"success",open:this.state.submitShow,on:"click",position:"top center",trigger:r.a.createElement(K.a.Button,{className:"form-submit-button",align:"right",color:"green",content:"Submit Recipe"})})))))))}}]),t}(a.Component),Z=(n(435),n(481)),ee=n(479),te=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={users:[],admins:[],modalText:null,modalShow:!1,modalAction:null},n.getListOfUsers=Object(S.a)(O.a.mark(function e(){var t,a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.userId,e.next=3,C.a.get("http://localhost:3001/users?userId=".concat(t));case 3:a=e.sent,n.setState({users:a.data});case 5:case"end":return e.stop()}},e)})),n.getListOfAdmins=Object(S.a)(O.a.mark(function e(){var t,a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.userId,e.next=3,C.a.get("http://localhost:3001/admin?userId=".concat(t));case 3:a=e.sent,n.setState({admins:a.data});case 5:case"end":return e.stop()}},e)})),n.addToAdmins=function(){var e=Object(S.a)(O.a.mark(function e(t){var a,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.userId,e.next=3,C.a.post("http://localhost:3001/admin?userId=".concat(a,"&newAdminId=").concat(t));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.delFromAdmins=function(){var e=Object(S.a)(O.a.mark(function e(t){var a,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.userId,e.next=3,C.a.delete("http://localhost:3001/admin?userId=".concat(a,"&newAdminId=").concat(t));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.componentDidMount=function(){null!==n.props.userId&&(n.getListOfUsers(),n.getListOfAdmins())},n.isUserAdmin=function(e){var t=!1;for(var a in n.state.admins)e.userId===n.state.admins[a].userId&&(t=!0);return t},n.handleModalConfirm=function(){var e=Object(S.a)(O.a.mark(function e(t){var a,r,i;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.state.modalAction,r=a.type,i=a.userId,!t){e.next=18;break}if("add"!==r){e.next=10;break}return e.next=5,n.addToAdmins(i);case 5:return e.next=7,n.getListOfAdmins();case 7:n.setState({modalShow:!1}),e.next=16;break;case 10:if("del"!==r){e.next=16;break}return e.next=13,n.delFromAdmins(i);case 13:return e.next=15,n.getListOfAdmins();case 15:n.setState({modalShow:!1});case 16:e.next=19;break;case 18:n.setState({modalShow:!1});case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleUserOnClick=function(){var e=Object(S.a)(O.a.mark(function e(t,a){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"add"===a?n.setState({modalShow:!0,modalText:"Are you sure you want to add ".concat(t.email," to Admins?"),modalAction:{type:"add",userId:t.userId}}):"delete"===a&&n.setState({modalShow:!0,modalText:"Are you sure you want to remove ".concat(t.email," from Admins ?"),modalAction:{type:"del",userId:t.userId}});case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n.renderButtons=function(){return r.a.createElement("div",null,r.a.createElement(g.a,{basic:!0,color:"red",inverted:!0,onClick:function(){return n.handleModalConfirm(!1)}},r.a.createElement(w.a,{name:"remove"})," No"),r.a.createElement(g.a,{color:"green",inverted:!0,onClick:function(){return n.handleModalConfirm(!0)}},r.a.createElement(w.a,{name:"checkmark"})," Yes"))},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,"Admin List",r.a.createElement("br",null),r.a.createElement(Z.a,{celled:!0,relaxed:!0,verticalAlign:"middle"},this.state.users.map(function(t){return r.a.createElement("div",{className:"user-list-container"},e.isUserAdmin(t)?r.a.createElement(w.a,{size:"large",name:"user secret"}):r.a.createElement(w.a,{size:"large",name:"user"}),r.a.createElement("div",null,t.email),e.isUserAdmin(t)?r.a.createElement(g.a,{onClick:function(){return e.handleUserOnClick(t,"delete")},color:"red",className:"admin-button",floated:"right"},"Delete"):r.a.createElement(g.a,{onClick:function(){return e.handleUserOnClick(t,"add")},color:"green",className:"admin-button",floated:"right"},"Add"))})),r.a.createElement(ee.a,{open:this.state.modalShow,basic:!0,size:"small",header:"Admin Confirmation",content:this.state.modalText,actions:this.renderButtons}))}}]),t}(a.Component),ne=Object(s.b)(function(e){return{userId:e.auth.userId}})(te),ae=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={recipes:[],modalText:null,modalShow:!1,modalAction:null},n.getSubmissionsList=Object(S.a)(O.a.mark(function e(){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("http://localhost:3001/recipeSubmissions");case 2:t=e.sent,n.setState({recipes:t.data});case 4:case"end":return e.stop()}},e)})),n.addSubmission=function(){var e=Object(S.a)(O.a.mark(function e(t){var n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.patch("http://localhost:3001/recipeSubmissions?id=".concat(t,"&action=add"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.delSubmission=function(){var e=Object(S.a)(O.a.mark(function e(t){var n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.patch("http://localhost:3001/recipeSubmissions?id=".concat(t,"&action=delete"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleModalConfirm=function(){var e=Object(S.a)(O.a.mark(function e(t){var a,r,i;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.state.modalAction,r=a.type,i=a.submissionId,!t){e.next=18;break}if("add"!==r){e.next=10;break}return e.next=5,n.addSubmission(i);case 5:return e.next=7,n.getSubmissionsList();case 7:n.setState({modalShow:!1}),e.next=16;break;case 10:if("del"!==r){e.next=16;break}return e.next=13,n.delSubmission(i);case 13:return e.next=15,n.getSubmissionsList();case 15:n.setState({modalShow:!1});case 16:e.next=19;break;case 18:n.setState({modalShow:!1});case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleSubmissionClick=function(e,t){"add"===t?n.setState({modalShow:!0,modalText:"Are you sure you want to add ".concat(e," to Admins?"),modalAction:{type:"add",submissionId:e}}):"delete"===t&&n.setState({modalShow:!0,modalText:"Are you sure you want to remove ".concat(e," from Admins ?"),modalAction:{type:"del",submissionId:e}})},n.renderButtons=function(){return r.a.createElement("div",null,r.a.createElement(g.a,{basic:!0,color:"red",inverted:!0,onClick:function(){return n.handleModalConfirm(!1)}},r.a.createElement(w.a,{name:"remove"})," No"),r.a.createElement(g.a,{color:"green",inverted:!0,onClick:function(){return n.handleModalConfirm(!0)}},r.a.createElement(w.a,{name:"checkmark"})," Yes"))},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getSubmissionsList()}},{key:"renderRecipeList",value:function(){var e=this;return console.log(this.state.recipes),void 0!==this.state.recipes?this.state.recipes.map(function(t){return r.a.createElement(V,{className:"card-container",link:t.link,id:t._id,src:t.src,title:t.title,description:t.description,extra:t.extra,onClick:function(t,n){return e.handleSubmissionClick(t,n)},buttons:!0})}):r.a.createElement("div",null)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"center"}},"Recipe Submissions"),r.a.createElement(J.a.Group,{centered:!0},this.renderRecipeList()),r.a.createElement(ee.a,{open:this.state.modalShow,basic:!0,size:"small",header:"Admin Confirmation",content:this.state.modalText,actions:this.renderButtons}))}}]),t}(a.Component),re=(a.Component,function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){n.props.isAdmin||v.push("/")},n.componentDidUpdate=function(e,t){e.isAdmin!==n.props.isAdmin&&v.push("/")},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"admin-flex-container"},r.a.createElement("div",{className:"users-list flex-item"},r.a.createElement(ne,null)),r.a.createElement("div",{className:"submission-list flex-item"},r.a.createElement(ae,null)))}}]),t}(a.Component)),ie=Object(s.b)(function(e){return{isAdmin:e.auth.isAdmin}})(re),ce=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"content-footer footer-left"},"Data fueled by ",r.a.createElement("a",{href:"http://hellofresh.com"},"Hellofresh")," and ",r.a.createElement("a",{href:"http://allrecipes.com"}," Allrecipes ")),r.a.createElement("div",{className:"content-footer footer-right"},r.a.createElement("a",{href:"https://github.com/shmeegie",className:"github-icon-link"},r.a.createElement(w.a,{link:!0,"aria-hidden":"true",size:"big",name:"github"}))))}}]),t}(a.Component),se=(n(468),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(f.a,{history:v},r.a.createElement(R,null),r.a.createElement(D,null),r.a.createElement(H,null),r.a.createElement(ce,null),r.a.createElement(b.a,{path:"/recipe/submit",exact:!0,component:W}),r.a.createElement(b.a,{path:"/",exact:!0,component:q}),r.a.createElement(b.a,{path:"/admin",exact:!0,component:ie})))}}]),t}(a.Component)),oe=n(54),le={},ue={},de={isSignedIn:!1,userId:null,isAdmin:!1},pe=Object(o.c)({recipes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RECIPES":case"FETCH_RECIPE":return Object(oe.a)({},e,{recipes:t.payload});default:return e}},dictionary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RECIPES_DICTIONARY":return Object(oe.a)({},e,{dictionary:t.payload});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(oe.a)({},e,{isSignedIn:!0,userId:t.payload});case"SIGN_OUT":return Object(oe.a)({},e,{isSignedIn:!1,userId:null});case"GET_ADMIN":return Object(oe.a)({},e,{isAdmin:t.payload});default:return e}}}),me=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,he=Object(o.e)(pe,me(Object(o.a)(l.a)));c.a.render(r.a.createElement(s.a,{store:he},r.a.createElement(se,null)),document.getElementById("root"))}},[[281,1,2]]]);
//# sourceMappingURL=main.146118cc.chunk.js.map